<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.anjiplus.template.gaea.business.modules.gaeaUiI18n.dao.GaeaUiI18nMapper">

    <resultMap type="com.anjiplus.template.gaea.business.modules.gaeaUiI18n.dao.entity.GaeaUiI18n" id="GaeaUiI18nMap">
        <!--jdbcType="{column.columnType}"-->
        <result property="id" column="id"  />
        <result property="locale" column="locale"  />
        <result property="cataType" column="cata_type"  />
        <result property="system" column="system"  />
        <result property="code" column="code"  />
        <result property="name" column="name"  />
        <result property="remark" column="remark"  />
        <result property="enabled" column="enabled"  />
        <result property="createBy" column="create_by"  />
        <result property="createTime" column="create_time"  />
        <result property="updateBy" column="update_by"  />
        <result property="updateTime" column="update_time"  />
        <result property="version" column="version"  />

    </resultMap>

    <sql id="Base_Column_List">
        id,locale,cata_type,system,code,name,remark,enabled,create_by,create_time,update_by,update_time,version
    </sql>

    <!--自定义sql -->
    <select id="queryColumns" resultType="com.anjiplus.template.gaea.business.modules.gaeaUiI18n.service.impl.ColumnDesc" parameterType="java.lang.String">
        select table_name as tableName,column_name as columnName,
        column_type as columnType,data_type as dataType,character_maximum_length as maxLength,
        column_comment as remark,column_default as defaultValue
        from information_schema.columns
        where table_schema=(select database())
        and table_name not like 'ACT%'
        <if test="tableName!=null">
            and table_name like CONCAT('%', #{tableName})
        </if>
    </select>
    <select id="queryTables" resultType="java.lang.String" parameterType="java.lang.String">
        select concat(table_comment,':',table_name) as tableName
        from information_schema.tables
        where table_schema=(select database())
        and table_name not like 'ACT%'
        <if test="tableName!=null">
            and table_name like CONCAT('%', #{tableName})
        </if>
        order by update_time desc
        limit 100
    </select>
    <!--,table_comment as comment-->
</mapper>